/* ===========================
   Leaderboard.css â€” Spectra
   Cleaned & simplified
   =========================== */

/* Theme Variables */
:root,
[data-theme="light"] {
  /* Light Theme (Default) */
  --cream:#f3f9d2;
  --beaver:#ab8476;
  --indigo-dye:#2b4162;
  --dartmouth-green:#0b6e4f;
  --blood-red:#621708;

  --muted:#5f718d;
  --card-bg:#ffffff;
  --glass: rgba(255,255,255,0.98);
  --radius:18px;
  --shadow: 0 20px 45px rgba(31,42,68,0.08);

  --bg: linear-gradient(180deg, var(--cream), #f7fbf9);
  --card-bg-grad: linear-gradient(180deg, #ffffff, #fbfeff);
  --glass-shadow: 0 10px 30px rgba(20,60,120,0.06);

  --text-primary: var(--indigo-dye);
  --text-secondary: var(--muted);
  --text-muted: #8a9ba8;
  --border-color: rgba(37,50,71,0.06);
  --border-dark: rgba(37,50,71,0.12);
  --input-bg: var(--card-bg);
  --input-border: rgba(17,70,178,0.08);
  --accent-color: var(--dartmouth-green);
  --danger-color: var(--blood-red);
}

/* Dark Theme */
[data-theme="dark"] {
  --cream: #1a1a1a;
  --beaver: #8b6f63;
  --indigo-dye: #e0e0e0;
  --dartmouth-green: #51cf66;
  --blood-red: #ff6b6b;

  --muted: #b0b0b0;
  --card-bg: #2d2d2d;
  --glass: rgba(45,45,45,0.95);
  --shadow: 0 20px 45px rgba(0,0,0,0.25);

  --bg: linear-gradient(180deg, #1a1a1a, #242424);
  --card-bg-grad: linear-gradient(180deg, #2d2d2d, #353535);
  --glass-shadow: 0 10px 30px rgba(0,0,0,0.3);

  --text-primary: #e0e0e0;
  --text-secondary: #b0b0b0;
  --text-muted: #888888;
  --border-color: rgba(255,255,255,0.08);
  --border-dark: rgba(255,255,255,0.15);
  --input-bg: #404040;
  --input-border: #555;
  --accent-color: #51cf66;
  --danger-color: #ff6b6b;
}

/* Auto theme detection */
@media (prefers-color-scheme: dark) {
  [data-theme="auto"] {
    --cream: #1a1a1a;
    --beaver: #8b6f63;
    --indigo-dye: #e0e0e0;
    --dartmouth-green: #51cf66;
    --blood-red: #ff6b6b;

    --muted: #b0b0b0;
    --card-bg: #2d2d2d;
    --glass: rgba(45,45,45,0.95);
    --shadow: 0 20px 45px rgba(0,0,0,0.25);

    --bg: linear-gradient(180deg, #1a1a1a, #242424);
    --card-bg-grad: linear-gradient(180deg, #2d2d2d, #353535);
    --glass-shadow: 0 10px 30px rgba(0,0,0,0.3);

    --text-primary: #e0e0e0;
    --text-secondary: #b0b0b0;
    --text-muted: #888888;
    --border-color: rgba(255,255,255,0.08);
    --border-dark: rgba(255,255,255,0.15);
    --input-bg: #404040;
    --input-border: #555;
    --accent-color: #51cf66;
    --danger-color: #ff6b6b;
  }
}

*{
  box-sizing:border-box;
}

html,body{
  margin:0;
  height:100%;
  font-family:"Advent Pro", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text-primary);
  font-size:18px;
  -webkit-font-smoothing:antialiased;
  transition: background 0.3s ease, color 0.3s ease;
}

/* Ensure all elements transition smoothly */
*, *::before, *::after {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* ===== Topbar ===== */

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  min-height:92px;
  padding:12px 28px;
  border-bottom:1px solid rgba(37,50,71,0.03);
  background:transparent;
}

.topbar__left,
.topbar__center,
.topbar__right{
  display:flex;
  align-items:center;
}

.topbar__center{
  flex:1;
  justify-content:center;
}

/* Brand */

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  text-decoration:none;
  color:inherit;
}

.brand__logo{
  width:96px;
  height:96px;
  border-radius:14px;
  object-fit:contain;
  background:linear-gradient(135deg,var(--cream),var(--beaver));
  box-shadow:0 10px 24px rgba(11,110,79,0.05);
}

.brand__name{
  font-weight:700;
  font-size:20px;
  color:var(--text-primary);
}

.page-title{
  margin:0;
  font-size:26px;
  letter-spacing:.3px;
}

/* Buttons */

.btn{
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
  border:1px solid transparent;
  font-weight:700;
  font-size:14px;
  background:var(--card-bg);
}

.btn--ghost{
  background:transparent;
  color:var(--text-primary);
  border:1px solid var(--border-color);
}

.btn--ghost:hover{
  background:var(--border-color);
}

.btn--primary{
  background:var(--indigo-dye);
  color:white;
}

.btn--primary:hover{
  filter:brightness(.95);
}

.btn--sm{
  padding:6px 10px;
  font-size:13px;
}

.quick-nav{
  display:flex;
  gap:8px;
}

.topbar__right{
  display:flex;
  gap:10px;
}

/* ===== Main container ===== */

.container{
  min-width:80vw;
  max-width:1150px;
  margin:22px auto;
  padding:26px;
  background:var(--card-bg-grad);
  border-radius:12px;
  box-shadow:var(--glass-shadow);
  border:1px solid rgba(37,50,71,0.05);
  display:flex;
  flex-direction:column;
  gap:16px;
}

/* Header card */

.leaderboard-header-card{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:18px;
}

.leaderboard-header-left h2{
  margin:0 0 4px;
  font-size:24px;
}

.subtitle{
  margin:0;
  color:var(--text-secondary);
  font-size:15px;
}

.leaderboard-header-right{
  text-align:right;
}

.date-label{
  display:block;
  font-weight:700;
  margin-bottom:4px;
}

.date-row{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  align-items:center;
}

.date-input{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border-dark);
  background:var(--input-bg);
  color:var(--text-primary);
  font-family:inherit;
  font-size:14px;
}

.date-input:focus{
  outline:none;
  box-shadow:0 0 0 3px rgba(43,65,98,0.12);
}

.date-caption{
  margin-top:4px;
  font-size:13px;
  color:var(--text-secondary);
}

/* Controls card */

.leaderboard-controls-card{
  padding:16px 18px;
  border-radius:12px;
  background:var(--glass);
  border:1px solid rgba(43,65,98,0.05);
  box-shadow:0 10px 30px rgba(31,42,68,0.06);
}

.controls-row{
  display:flex;
  justify-content:space-between;
  gap:14px;
  align-items:flex-start;
}

.controls-title{
  margin:0 0 2px;
  font-size:18px;
}

.controls-caption{
  margin:0;
  font-size:14px;
  color:var(--text-secondary);
}

.sort-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:flex-end;
}

.sort-btn{
  border-radius:999px;
  padding:7px 14px;
  border:1px solid var(--border-color);
  background:var(--card-bg);
  font-size:13px;
  font-weight:700;
  cursor:pointer;
  color:var(--text-secondary);
}

.sort-btn:hover{
  background:var(--border-color);
}

.sort-btn--active{
  background:linear-gradient(90deg,var(--indigo-dye),var(--dartmouth-green));
  color:white;
  border-color:transparent;
  box-shadow:0 10px 24px rgba(11,110,79,0.18);
}

/* ===== Leaderboard list card ===== */

.leaderboard-card{
  padding:20px 20px 16px;
  border-radius:12px;
  background:var(--glass);
  border:1px solid rgba(43,65,98,0.05);
  box-shadow:0 16px 40px rgba(31,42,68,0.08);
}

.loading-text{
  text-align:center;
  padding:24px 0;
  font-style:italic;
  color:var(--muted);
}

.no-data{
  text-align:center;
  padding:30px 0 10px;
  color:var(--muted);
}

.no-data-icon{
  font-size:32px;
  display:block;
  margin-bottom:4px;
}

/* Leaderboard rows */

.leaderboard-list{
  list-style:none;
  margin:0;
  padding:0;
}

.lb-row{
  display:flex;
  justify-content:flex-start;
  align-items:center;
  gap:24px;
  padding:18px 18px;
  border-radius:16px;
  background:var(--card-bg);
  border:1px solid var(--border-color);
  box-shadow:var(--glass-shadow);
  margin-bottom:14px;
}

.lb-row.rank-1{
  border-left:5px solid #ffd700;
}

.lb-row.rank-2{
  border-left:5px solid #c0c0c0;
}

.lb-row.rank-3{
  border-left:5px solid #cd7f32;
}

.lb-left{
  display:flex;
  align-items:flex-start;
  gap:18px;
}

/* Big rank + name/metrics */

.rank-big{
  font-size:32px;
  line-height:1;
  font-weight:900;
  color:var(--indigo-dye);
  min-width:32px;
  text-align:center;
}

.user-block{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.user-name{
  font-weight:900;
  font-size:20px;
}

.metric-main{
  font-weight:800;
  font-size:18px;
}

.metric-sub{
  font-size:14px;
  color:var(--muted);
}

/* Right-side chips */

.lb-right{
  display:flex;
  flex-wrap:wrap;
  justify-content:flex-end;
  gap:8px;
}

.chip{
  border-radius:999px;
  padding:6px 12px;
  font-size:12px;
  background:rgba(43,65,98,0.04);
  color:var(--muted);
}

/* Toast */

.toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:var(--card-bg);
  border-radius:10px;
  padding:8px 14px;
  font-weight:700;
  border:1px solid var(--border-color);
  box-shadow:var(--shadow);
  display:none;
  z-index:2000;
}

.toast--show{
  display:inline-block;
}

.toast--err{
  border-color:rgba(190,30,30,.4);
  color:#621708;
}

/* Utilities */

.hidden{
  display:none;
}

/* ===== Responsive ===== */

@media (max-width:900px){
  .brand__logo{
    width:84px;
    height:84px;
  }

  .topbar{
    padding:10px 16px;
    min-height:78px;
  }

  .brand__name{
    display:none;
  }

  .leaderboard-header-card{
    flex-direction:column;
    align-items:flex-start;
  }

  .leaderboard-header-right{
    text-align:left;
  }

  .controls-row{
    flex-direction:column;
    align-items:flex-start;
  }

  .sort-buttons{
    justify-content:flex-start;
  }

  .lb-row{
    flex-direction:column;
    align-items:flex-start;
  }

  .lb-right{
    justify-content:flex-start;
  }
}
