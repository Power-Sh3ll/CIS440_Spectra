<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends - Spectra</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- TOP NAV / HEADER -->
  <header class="topbar" role="banner">
    <div class="topbar__left">
      <a href="/dashboard" class="brand" aria-label="Home">
        <img src="/Assets/Logo.png" alt="Spectra logo" class="brand__logo">
        <span class="brand__name">Spectra</span>
      </a>
    </div>

    <div class="topbar__center">
      <h1 class="page-title">Friends</h1>
    </div>

    <div class="topbar__right">
      <nav class="quick-nav" aria-label="quick navigation">
        <button id="dashboardBtn" class="btn btn--ghost">Dashboard</button>
        <button id="friendsBtn" class="btn btn--ghost btn--active">Friends</button>
        <button id="leaderboardBtn" class="btn btn--ghost">Leaderboard</button>
        <button id="badgesBtn" class="btn btn--ghost">Badges</button>
        <button id="carbonForestBtn" class="btn btn--ghost">Carbon Forest</button>
      </nav>

      <div class="actions">
        <button id="refreshButton" class="btn btn--success">Refresh</button>
        <button id="logoutButton" class="btn btn--primary">Log Out</button>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container" role="main">
        <div class="friends-header">
            <h1>Friends</h1>
            <p>Connect and manage your fitness community</p>
            <div class="search-bar">
                <input type="text" id="friend-search" placeholder="Search by email or name..." class="search-input">
                <button id="search-btn" class="search-btn">üîç</button>
            </div>
        </div>

        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="friends">
                    <span>My Friends</span>
                    <span class="count" id="friends-count">0</span>
                </button>
                <button class="tab-btn" data-tab="requests">
                    <span>Pending</span>
                    <span class="count" id="requests-count">0</span>
                </button>
                <button class="tab-btn" data-tab="add">
                    <span>Sent Requests</span>
                    <span class="count" id="sent-count">0</span>
                </button>
            </div>
        </div>

        <div class="tab-content">
            <!-- Search Results Page (hidden by default) -->
            <div class="search-page" id="search-page" style="display: none;">
                <div class="search-page-header">
                    <button class="back-btn" onclick="exitSearchMode()">
                        ‚Üê Back to Friends
                    </button>
                    <div class="search-info">
                        <h2>Search Results</h2>
                        <p id="search-query-display">Searching for: ""</p>
                    </div>
                </div>
                
                <div class="search-controls">
                    <div class="search-bar-large">
                        <input type="text" id="search-input-page" placeholder="Search for users by name or email..." class="search-input-large">
                        <button id="search-btn-page" class="search-btn-large">üîç Search</button>
                    </div>
                </div>
                
                <div id="search-results-container" class="search-results">
                    <div class="loading">Searching users...</div>
                </div>
            </div>

            <!-- My Friends Tab -->
            <div class="tab-panel active" id="friends-panel">
                <div id="friends-list" class="friends-grid">
                    <div class="loading">Loading friends...</div>
                </div>
            </div>

            <!-- Pending Requests Tab -->
            <div class="tab-panel" id="requests-panel">
                <h3 class="panel-title">Pending Friend Requests</h3>
                <div id="received-requests" class="requests-grid">
                    <div class="loading">Loading requests...</div>
                </div>
            </div>

            <!-- Sent Requests Tab -->
            <div class="tab-panel" id="add-panel">
                <h3 class="panel-title">Sent Friend Requests</h3>
                <div id="sent-requests" class="requests-grid">
                    <div class="loading">Loading sent requests...</div>
                </div>
            </div>
        </div>
    </div>
  </main>

    <script src="/js/friends.js"></script>
</body>
</html>